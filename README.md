#config-multipaas [![npm version](http://img.shields.io/npm/v/config-multipaas.svg)](https://www.npmjs.org/package/config-multipaas) [![Dependency Check](http://img.shields.io/david/ryanj/config-multipaas.svg)](https://david-dm.org/ryanj/config-multipaas) [![monthly downloads](http://img.shields.io/npm/dm/config-multipaas.svg)](https://www.npmjs.org/package/config-multipaas) [![license](http://img.shields.io/npm/l/config-multipaas.svg)](https://www.npmjs.org/package/config-multipaas)

[CONFIG-CHAIN](https://github.com/dominictarr/config-chain) W/ [CLOUD-ENV](https://github.com/ryanj/cloud-env/) DEFAULTS!

![MultiPaaS](http://i.imgur.com/fCi6YX6.png)

[Config-multiPaaS](https://github.com/ryanj/config-multipaas) is a [`config-chain`](https://github.com/dominictarr/config-chain) wrapper that includes automatic support for several popular cloud deployment targets ([OpenShift](http://openshift.com/), [Heroku](http://heroku.com/)).

It works by [checking the system environment for known configuration strings](https://github.com/ryanj/cloud-env/), normalizing the results into [a vendor-neutral list](#configuration-stings).

## Installation

Configuration objects generated by `config-multipaas` are valid instances of [`config-chain`](https://www.npmjs.org/package/config-chain), making it easy to extend, or to use as drop-in replacement:


``` js
  //npm install --save config-multipaas
  var cc = require('config-multipaas')

  // Config-chain works as usual, while loading automatic configuration 
  // strings from popular cloud hosting environments:
  var config = cc({my_app_config_1: "foo", my_app_config_2: "bar"})
```

See the [`config-chain README`](https://github.com/dominictarr/config-chain#boring-api-docs) for advanced usage notes, or for information about mixing in your exiting application configuration.

## Listen up
Make sure to pass `config.get('PORT')` and `config.get('IP')` to your app's `listen` function:

```js
app.listen(config.get('PORT'), config.get('IP'), function () {
  console.log("Listening on "+config.get('IP')+", port "+config.get('PORT'))
});
```

If host-provided configs are not found, local development defaults are returned - allowing you to configure once, and run anywhere.

## Configuration Strings
Consistent, vendor-neutral, server configuration strings [provoded by `cloud-env`](https://github.com/ryanj/cloud-env#configuration-strings):

config.get(VARNAME) | READ_FROM | DEFAULT
--------------------|-----------|---------------
IP                  | OPENSHIFT_NODEJS_IP, BIND_IP | 0.0.0.0
PORT                | OPENSHIFT_NODEJS_PORT, PORT | 8080
HOSTNAME            | OPENSHIFT_APP_DNS, HOSTNAME  | localhost
APP_NAME            | OPENSHIFT_APP_NAME, APP_NAME | APP_NAME
MONGODB_DB_URL      | OPENSHIFT_MONGODB_DB_URL, MONGODB_DB_URL | mongodb://127.0.0.1:27017
POSTGRESQL_DB_URL   | OPENSHIFT_POSTGRESQL_DB_URL, POSTGRESQL_DB_URL | postgresql://127.0.0.1:5432
MYSQLDB_DB_URL      | OPENSHIFT_MYSQLDB_DB_URL, MYSQLDB_DB_URL | mysql://127.0.0.1:3306
